/**
 * almond 0.2.7 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

(function(t,e){var r=!("function"!=typeof define||!define.amd),i="object"==typeof exports,n=i?require:function(t){throw new Error("uRequire detected missing dependency: '"+t+"' - in a non-nodejs runtime. All it's binding variables were 'undefined'.")},o=function(t){var r,o,s;return function(t){function e(t,e){return w.call(t,e)}function i(t,e){var r,i,n,o,s,u,h,a,p,c,l=e&&e.split("/"),f=x.map,y=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(l=l.slice(0,l.length-1),t=l.concat(t.split("/")),a=0;a<t.length;a+=1)if(c=t[a],"."===c)t.splice(a,1),a-=1;else if(".."===c){if(1===a&&(".."===t[2]||".."===t[0]))break;a>0&&(t.splice(a-1,2),a-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((l||y)&&f){for(r=t.split("/"),a=r.length;a>0;a-=1){if(i=r.slice(0,a).join("/"),l)for(p=l.length;p>0;p-=1)if(n=f[l.slice(0,p).join("/")],n&&(n=n[i])){o=n,s=a;break}if(o)break;!u&&y&&y[i]&&(u=y[i],h=a)}!o&&u&&(o=u,s=h),o&&(r.splice(0,s,o),t=r.join("/"))}return t}function n(e,r){return function(){return f.apply(t,S.call(arguments,0).concat([e,r]))}}function u(t){return function(e){return i(e,t)}}function h(t){return function(e){m[t]=e}}function a(r){if(e(d,r)){var i=d[r];delete d[r],v[r]=!0,l.apply(t,i)}if(!e(m,r)&&!e(v,r))throw new Error("No "+r);return m[r]}function p(t){var e,r=t?t.indexOf("!"):-1;return r>-1&&(e=t.substring(0,r),t=t.substring(r+1,t.length)),[e,t]}function c(t){return function(){return x&&x.config&&x.config[t]||{}}}var l,f,y,g,m={},d={},x={},v={},w=Object.prototype.hasOwnProperty,S=[].slice;y=function(t,e){var r,n=p(t),o=n[0];return t=n[1],o&&(o=i(o,e),r=a(o)),o?t=r&&r.normalize?r.normalize(t,u(e)):i(t,e):(t=i(t,e),n=p(t),o=n[0],t=n[1],o&&(r=a(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:r}},g={require:function(t){return n(t)},exports:function(t){var e=m[t];return"undefined"!=typeof e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:c(t)}}},l=function(r,i,o,s){var u,p,c,l,f,x,w=[],S=typeof o;if(s=s||r,"undefined"===S||"function"===S){for(i=!i.length&&o.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if(l=y(i[f],s),p=l.f,"require"===p)w[f]=g.require(r);else if("exports"===p)w[f]=g.exports(r),x=!0;else if("module"===p)u=w[f]=g.module(r);else if(e(m,p)||e(d,p)||e(v,p))w[f]=a(p);else{if(!l.p)throw new Error(r+" missing "+p);l.p.load(l.n,n(s,!0),h(p),{}),w[f]=m[p]}c=o?o.apply(m[r],w):void 0,r&&(u&&u.exports!==t&&u.exports!==m[r]?m[r]=u.exports:c===t&&x||(m[r]=c))}else r&&(m[r]=o)},r=o=f=function(e,r,i,n,o){return"string"==typeof e?g[e]?g[e](r):a(y(e,r).f):(e.splice||(x=e,r.splice?(e=r,r=i,i=null):e=t),r=r||function(){},"function"==typeof i&&(i=n,n=o),n?l(t,e,r,i):setTimeout(function(){l(t,e,r,i)},4),f)},f.config=function(t){return x=t,x.deps&&f(x.deps,x.callback),f},r._defined=m,s=function(t,r,i){r.splice||(i=r,r=[]),e(m,t)||e(d,t)||(d[t]=[t,r,i])},s.amd={jQuery:!0}}(),s("almond",function(){}),s("utilities/animframe",["require","exports","module"],function(t,r,i){return i.exports=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){return e.setTimeout(t,1e3/60)}}(),i.exports}),s("game",["require","exports","module","./utilities/animframe"],function(t,e,r){var i,n,o=function(t,e){return function(){return t.apply(e,arguments)}};return n=t("./utilities/animframe"),r.exports=i=function(){function t(t,e){this.wrapper=t,this.debug=null!=e?e:!1,this.tick=o(this.tick,this),this.canvas=this.wrapper.find("canvas").get(0),this.setSize(this.wrapper.width(),this.wrapper.height()),this.context=this.canvas.getContext("2d"),this.running=!1,this.debug&&this.setupStats()}return t.prototype.clearDisplay=function(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.setSize=function(t,e){return this.canvas.width=t,this.canvas.height=e},t.prototype.getWidth=function(){return this.canvas.width},t.prototype.getHeight=function(){return this.canvas.height},t.prototype.getWrapper=function(){return this.wrapper},t.prototype.run=function(){return this.running=!0,this.lastTick=new Date,n(this.tick)},t.prototype.stop=function(){return this.running=!1},t.prototype.update=function(){},t.prototype.tick=function(){var t,e,r;return t=(Date.now()-this.lastTick)/1e3,this.lastTick=Date.now(),this.update(t),null!=(e=this.screen)&&e.update(t),this.clearDisplay(),null!=(r=this.screen)&&r.draw(this.context),this.running?n(this.tick):void 0},t}(),r.exports}),s("screen",["require","exports","module"],function(t,e,r){var i;return r.exports=i=function(){function t(t){this.game=t}return t.prototype.update=function(){},t.prototype.draw=function(){},t}(),r.exports}),s("math/vector2",["require","exports","module"],function(t,e,r){var i;return r.exports=i=function(){function t(t,e){this.x=null!=t?t:0,this.y=null!=e?e:0}return t.prototype.set=function(e,r){var i;return e instanceof t?(i=e,this.x=i.x,this.y=i.y):(this.x=e,this.y=r),this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},t.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},t.prototype.substract=function(e,r){var i;return e instanceof t?(i=e,e=i.getX(),r=i.getY()):null!=e&&null==r&&(r=e),this.x=this.x-e,this.y=this.y-r,this},t.prototype.add=function(e,r){var i;return e instanceof t?(i=e,e=i.getX(),r=i.getY()):null!=e&&null==r&&(r=e),this.x=this.x+e,this.y=this.y+r,this},t.prototype.divideBy=function(e,r){var i;return e instanceof t?(i=e,e=i.getX(),r=i.getY()):null!=e&&null==r&&(r=e),this.x=this.x/e,this.y=this.y/r,this},t.prototype.multiply=function(e,r){var i;return e instanceof t?(i=e,e=i.getX(),r=i.getY()):null!=e&&null==r&&(r=e),this.x=this.x*e,this.y=this.y*r,this},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.setX=function(t){return this.x=t},t.prototype.setY=function(t){return this.y=t},t}(),r.exports}),s("math/rectangle",["require","exports","module","./vector2"],function(t,e,r){var i,n;return n=t("./vector2"),r.exports=i=function(){function t(t,e,r,i){null==t&&(t=0),null==e&&(e=0),this.width=null!=r?r:0,this.height=null!=i?i:0,this.position=new n(t,e)}return t.prototype.setPosition=function(){return this.position.set.call(this,arguments)},t.prototype.setSize=function(t,e){return this.width=t,this.height=e},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t}(),r.exports}),s("node",["require","exports","module","./math/vector2","./math/rectangle"],function(t,e,r){var i,n,o;return o=t("./math/vector2"),n=t("./math/rectangle"),r.exports=i=function(){function t(t){this.game=t,this.origin=new o,this.position=new o,this.scale=new o(1,1),this.rect=new n}return t.prototype.getPosition=function(){return this.position},t.prototype.setPosition=function(t,e){return this.position.set(t,e)},t.prototype.getX=function(){return this.position.getX()},t.prototype.setX=function(t){return this.position.setX(t)},t.prototype.getY=function(){return this.position.getY()},t.prototype.setY=function(t){return this.position.setY(t)},t.prototype.getScale=function(){return this.scale},t.prototype.setScale=function(t,e){return this.scale.set(t,e)},t.prototype.getScaleX=function(){return this.scale.getX()},t.prototype.setScaleX=function(t){return this.scale.setX(t)},t.prototype.getScaleY=function(){return this.scale.getY()},t.prototype.setScaleY=function(t){return this.scale.setY(t)},t.prototype.getOrigin=function(){return this.origin},t.prototype.setOrigin=function(t,e){return this.origin.set(t,e)},t.prototype.getOriginX=function(){return this.scale.getX()},t.prototype.setOriginX=function(t){return this.origin.setX(t)},t.prototype.getOriginY=function(){return this.origin.getY()},t.prototype.setOriginY=function(t){return this.origin.setY(t)},t.prototype.getSize=function(){return this.rect.getSize()},t.prototype.setSize=function(t,e){return this.rect.setSize(t,e)},t.prototype.getWidth=function(){return this.rect.getWidth()},t.prototype.getHeight=function(){return this.rect.getHeight()},t}(),r.exports}),s("actor",["require","exports","module","./node"],function(t,e,r){var i,n,o={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};return n=t("./node"),r.exports=i=function(t){function e(t){this.game=t,e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.update=function(){},e.prototype.draw=function(){},e}(n),r.exports}),s("stage",["require","exports","module"],function(t,e,r){var i;return r.exports=i=function(){function t(t){this.game=t,this.actors=[]}return t.prototype.addActor=function(t){return this.actors.push(t)},t.prototype.removeActor=function(t){var e;return e=this.actors.indexOf(t),e>=0?this.actors.splice(e,1):void 0},t.prototype.update=function(t){var e,r,i,n,o;for(n=this.actors,o=[],r=0,i=n.length;i>r;r++)e=n[r],o.push(e.update(t));return o},t.prototype.draw=function(t){var e,r,i,n,o;for(n=this.actors,o=[],r=0,i=n.length;i>r;r++)e=n[r],o.push(e.draw(t));return o},t}(),r.exports}),s("graphics/sprite",["require","exports","module","../math/vector2","../node"],function(t,e,r){var i,n,o,s={}.hasOwnProperty,u=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};return o=t("../math/vector2"),i=t("../node"),r.exports=n=function(t){function e(t,r){this.textureAtlas=t,this.frame=r,e.__super__.constructor.apply(this,arguments),this.rotation=0}return u(e,t),e.renderOffset=new o(0,0),e.prototype.getWidth=function(){return this.frame.frame.w*this.scale.x},e.prototype.getHeight=function(){return this.frame.frame.h*this.scale.y},e.prototype.getRotation=function(){return this.rotation},e.prototype.setRotation=function(t){return this.rotation=t},e.prototype.draw=function(t,r,i,n,o){var s,u,h,a,p,c,l,f,y,g,m,d,x;return null==n&&(n=!1),null==o&&(o=!1),h=this.textureAtlas.getAtlasImage(),f=this.frame.frame.x,y=this.frame.frame.y,l=this.frame.frame.w,c=this.frame.frame.h,u=this.frame.frame.w*this.scale.x,s=this.frame.frame.h*this.scale.y,t.save(),d=Math.round((r||this.position.x)+this.origin.x+e.renderOffset.x),x=Math.round((i||this.position.y)+this.origin.y+e.renderOffset.y),a=n?-1:1,p=o?-1:1,g=n?d+u:d,m=o?x+s:x,t.translate(g,m),t.scale(a,p),t.rotate(Math.PI/180*this.rotation),t.drawImage(h,f,y,l,c,-this.origin.x,-this.origin.y,u,s),t.restore()},e}(i),r.exports}),s("graphics/animsprite",["require","exports","module","../math/vector2","./sprite"],function(t,e,r){var i,n,o,s={}.hasOwnProperty,u=function(t,e){function r(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};return o=t("../math/vector2"),n=t("./sprite"),r.exports=i=function(t){function e(t,r,i,n){this.textureAtlas=t,this.frame=r,this.spriteCount=i,this.animationInterval=n,e.__super__.constructor.apply(this,arguments),this.rotation=0,this.sumDelta=0,this.spriteIndex=0}return u(e,t),e.prototype.getWidth=function(){return this.frame.frame.w*this.scale.x},e.prototype.getHeight=function(){return this.frame.frame.h*this.scale.y},e.prototype.getRotation=function(){return this.rotation},e.prototype.setRotation=function(t){return this.rotation=t},e.prototype.update=function(t){return this.sumDelta>=this.animationInterval&&(this.spriteIndex++,this.spriteIndex>this.spriteCount-1&&(this.spriteIndex=0),this.sumDelta-=this.animationInterval),this.sumDelta+=t},e.prototype.draw=function(t,e,r,i){var o,s,u,h,a,p,c,l,f,y;return null==i&&(i=!1),u=this.textureAtlas.getAtlasImage(),y=Math.floor(this.frame.frame.w/this.spriteCount),p=this.frame.frame.x,c=this.frame.frame.y,a=y,h=this.frame.frame.h,p+=y*this.spriteIndex,s=y*this.scale.x,o=this.frame.frame.h*this.scale.y,t.save(),l=(e|this.position.x)+this.origin.x+n.renderOffset.x,f=(r|this.position.y)+this.origin.y+n.renderOffset.y,i?(t.translate(l+s,f),t.scale(-1,1)):t.translate(l,f),t.rotate(Math.PI/180*this.rotation),t.drawImage(u,p,c,a,h,-this.origin.x,-this.origin.y,s,o),t.restore()},e}(n),r.exports}),s("graphics/textureregion",["require","exports","module","../math/vector2"],function(t,e,r){var i,n;return n=t("../math/vector2"),r.exports=i=function(){function t(t,e){this.atlas=t,this.frame=e,this.image=this.atlas.getAtlasImage()}return t.prototype.draw=function(t,e,r,i,n,o,s){var u,h,a,p;return a=this.frame.frame.x+e,p=this.frame.frame.y+r,i=Math.min(i,this.frame.spriteSourceSize.w+this.frame.frame.x-(this.frame.frame.x+e)),n=Math.min(n,this.frame.spriteSourceSize.h+this.frame.frame.y-(this.frame.frame.y+r)),h=i,u=n,0!==i&&0!==n?t.drawImage(this.image,a,p,i,n,o,s,h,u):void 0},t}(),r.exports}),s("graphics/textureatlas",["require","exports","module","./sprite","./animsprite","./textureregion"],function(t,e,r){var i,n,o,s;return n=t("./sprite"),i=t("./animsprite"),s=t("./textureregion"),r.exports=o=function(){function t(t,e){this.frames=t,this.image=e}return t.prototype.createSprite=function(t){var e;if(null==this.frames[t])throw new Error("The sprite "+t+" could not be found.");return e=new n(this,this.frames[t])},t.prototype.createAnimSprite=function(t,e,r){var n;if(null==this.frames[t])throw new Error("The sprite "+t+" could not be found.");return n=new i(this,this.frames[t],e,r)},t.prototype.findRegion=function(t){var e;if(null==this.frames[t])throw new Error("The region "+t+" could not be found.");return e=new s(this,this.frames[t])},t.prototype.getAtlasImage=function(){return this.image},t}(),r.exports}),s("graphics/bitmapfont",["require","exports","module","../math/rectangle"],function(t,e,r){var i,n;return n=t("../math/rectangle"),i=function(){function t(t,e){this.fontFile=t,this.textureRegion=e,this.chars={},this.parseFontFile()}return t.prototype.parseFontFile=function(){var t,e,r,i,n,o,s,u,h,a,p,c,l,f;for(p=this.fontFile.split("\n"),f=[],s=0,h=p.length;h>s;s++)if(r=p[s],n=r.split(" "),"char"===n[0]){for(t={},c=n.slice(1,-1),u=0,a=c.length;a>u;u++)i=c[u],l=i.split("="),e=l[0],o=l[1],t[e]=parseInt(o);f.push(this.chars[t.id]=t)}else f.push(void 0);return f},t.prototype.getBounds=function(t){var e,r,i,o,s,u,h,a;for(u=0,o=0,s=h=0,a=t.length;a>=0?a>h:h>a;s=a>=0?++h:--h)i=t.substr(s,1),r=i.charCodeAt(0),null!=this.chars[r]&&(e=this.chars[r],u+=e.xadvance,o=e.height);return new n(0,0,u,o)},t.prototype.drawText=function(t,e,r,i){var n,o,s,u,h,a,p,c;for(h=0,c=[],u=a=0,p=e.length;p>=0?p>a:a>p;u=p>=0?++a:--a)s=e.substr(u,1),o=s.charCodeAt(0),null!=this.chars[o]&&(n=this.chars[o],this.textureRegion.draw(t,n.x,n.y,n.width,n.height,r+h+n.xoffset||0,i+n.yoffset||0),c.push(h+=n.xadvance));return c},t}(),r.exports=i,r.exports}),s("graphics/tilemap",["require","exports","module","../math/vector2","../node","../actor"],function(t,e,r){var i,n,o,s;return s=t("../math/vector2"),n=t("../node"),i=t("../actor"),r.exports=o=function(){function t(t,e,r){var i,n,o,s,u;for(this.game=t,this.image=r,this.tileWidth=e.tileheight,this.tileHeight=e.tilewidth,this.tileSpacing=e.tilesets[0].spacing,this.layers=[],u=e.layers,o=0,s=u.length;s>o;o++)i=u[o],n=i.data,n.width=i.width,n.height=i.height,n.scrollX=0,n.scrollY=0,this.layers.push(n);this.numTilesOnTileSetX=(this.image.width-this.tileSpacing)/(this.tileWidth+this.tileSpacing)}return t.prototype.setScrollX=function(t){var e,r,i,n,o;for(n=this.layers,o=[],r=0,i=n.length;i>r;r++)e=n[r],o.push(e.scrollX=t);return o},t.prototype.setScrollY=function(t){var e,r,i,n,o;for(n=this.layers,o=[],r=0,i=n.length;i>r;r++)e=n[r],o.push(e.scrollY=t);return o},t.prototype.setScrollX=function(t,e){return this.layers[t].scrollX=e},t.prototype.setScrollY=function(t,e){return this.layers[t].scrollY=e},t.prototype.getScrollX=function(t){return this.layers[t].scrollX},t.prototype.getScrollY=function(t){return this.layers[t].scrollY},t.prototype.draw=function(t){var e,r,i,n,o,s,u,h,a,p,c,l,f,y,g,m,d,x,v,w,S;for(w=this.layers,S=[],x=0,v=w.length;v>x;x++)s=w[x],y=Math.ceil(this.game.getWidth()/this.tileWidth),g=Math.ceil(this.game.getHeight()/this.tileHeight),p=this.tileWidth,u=this.tileHeight,r=this.tileWidth,e=this.tileHeight,n=Math.floor(s.scrollX/this.tileWidth),o=Math.floor(s.scrollY/this.tileHeight),h=s.scrollX%this.tileWidth,a=s.scrollY%this.tileHeight,null!=this.image?S.push(function(){var x,v;for(v=[],d=x=0;g>=0?g>=x:x>=g;d=g>=0?++x:--x)v.push(function(){var g,x;for(x=[],m=g=0;y>=0?y>=g:g>=y;m=y>=0?++g:--g)i=m+n+(d+o)*s.width,f=s[i]-1,c=this.tileSpacing+(this.tileWidth+this.tileSpacing)*(f%this.numTilesOnTileSetX),l=this.tileSpacing+(this.tileHeight+this.tileSpacing)*Math.floor(f/this.numTilesOnTileSetX),x.push(t.drawImage(this.image,c,l,p,u,m*r-h,d*e-a,r,e));return x}.call(this));return v}.call(this)):S.push(void 0);return S},t}(),r.exports}),s("utilities/eventemitter",["require","exports","module"],function(t,e,r){var i,n=[].slice;return r.exports=i=function(){function t(){}return t.prototype.emit=function(){var t,e,r,i,o,s;if(e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],null==this.events&&(this.events={}),!this.events[e])return!1;for(s=this.events[e],i=0,o=s.length;o>i;i++)r=s[i],r.apply(null,t);return!0},t.prototype.bind=function(t,e){var r;return null==this.events&&(this.events={}),(null!=(r=this.events)[t]?(r=this.events)[t]:r[t]=[]).push(e),this},t.prototype.once=function(t,e){var r,i=this;return r=function(){return i.unbind(t,r),e.apply(null,arguments)},this.on(t,r),this},t.prototype.unbind=function(t,e){var r;return null==this.events&&(this.events={}),this.events[t]?(this.events[t]=function(){var i,n,o,s;for(o=this.events[t],s=[],i=0,n=o.length;n>i;i++)r=o[i],r!==e&&s.push(r);return s}.call(this),this):this},t.prototype.unbindAll=function(t){return null==this.events&&(this.events={}),delete this.events[t],this},t.prototype.on=t.prototype.bind,t.prototype.off=t.prototype.unbind,t.prototype.addListener=t.prototype.bind,t.prototype.removeListener=t.prototype.unbind,t}(),r.exports}),s("jquery",[],function(){return i?n("jquery"):"undefined"!=typeof t?t:n("jquery")}),s("utilities/preloader",["require","exports","module","./eventemitter","jquery"],function(t,e,r){var i,n,o,s=function(t,e){return function(){return t.apply(e,arguments)}},u={}.hasOwnProperty,h=function(t,e){function r(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};return n=t("./eventemitter"),i=t("jquery"),r.exports=o=function(t){function e(t,e){this.app=t,this.itemFilenames=e,this.loadJPEG=s(this.loadJPEG,this),this.loadJPG=s(this.loadJPG,this),this.loadPNG=s(this.loadPNG,this),this.loadItem=s(this.loadItem,this),this.items={}}return h(e,t),e.prototype.load=function(){var t,e,r,i,n,o,s,u=this;for(e=0,r=this.itemFilenames.length,o=this.itemFilenames,s=[],i=0,n=o.length;n>i;i++)t=o[i],s.push(this.loadItem(t,function(t,i){return null!=t?u.emit("error",t):(u.items[i.filename]=i.item,e++,e===r?u.emit("done"):void 0)}));return s},e.prototype.get=function(t){if(null==this.items[t])throw new Error("The file "+t+" has not been preloaded!");return this.items[t]},e.prototype.loadItem=function(t,e){var r,i;if(r=t.split(".").pop(),i=this["load"+r.toUpperCase()],null==i)throw new Error("No loading method for "+t);return i(t,e)},e.prototype.loadJSON=function(t,e){return i.getJSON(t,function(r){return e(null,{filename:t,item:r})})},e.prototype.loadFNT=function(t,e){return i.get(t,function(r){return e(null,{filename:t,item:r})})},e.prototype.loadImage=function(t,e){var r;return r=new Image,r.onload=function(){return e(null,{filename:t,item:r})},r.src=t},e.prototype.loadPNG=function(){return this.loadImage.apply(this,arguments)},e.prototype.loadJPG=function(){return this.loadImage.apply(this,arguments)},e.prototype.loadJPEG=function(){return this.loadImage.apply(this,arguments)},e}(n),r.exports}),s("utilities/keyboard",["require","exports","module","./eventemitter"],function(r,i,n){var o,s,u=function(t,e){return function(){return t.apply(e,arguments)}},h={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};return o=r("./eventemitter"),n.exports=s=function(r){function i(){this._onKeyUp=u(this._onKeyUp,this),this._onKeyDown=u(this._onKeyDown,this);var r,i,n;this.keyStates=[],n=this.Keys;for(r in n)i=n[r],this.keyStates[i]=!1;t(e).keydown(this._onKeyDown),t(e).keyup(this._onKeyUp)}return a(i,r),i.prototype.Keys={LEFT:37,UP:38,RIGHT:39,DOWN:40,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,ASTERISK:106,PLUS:107,MINUS:109,DOT:110,SLASH:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,SPACE:32,ENTER:13,ESC:27},i.prototype._onKeyDown=function(t){var e,r;return((r=t.keyCode)===this.Keys.UP||r===this.Keys.RIGHT||r===this.Keys.DOWN||r===this.Keys.LEFT||r===this.Keys.SPACE)&&t.preventDefault(),this.emit("keydown",t),e=t.keyCode,null!=this.keyStates[e]?this.keyStates[e]=!0:void 0},i.prototype._onKeyUp=function(t){var e;return e=t.keyCode,null!=this.keyStates[e]?this.keyStates[e]=!1:void 0},i.prototype.pressed=function(t){return this.keyStates[t]||!1},i.prototype.upPressed=function(){return this.keyStates[this.Keys.UP]||this.keyStates[this.Keys.W]||this.keyStates[this.Keys.SPACE]},i.prototype.leftPressed=function(){return this.keyStates[this.Keys.DOWN]||this.keyStates[this.Keys.S]},i.prototype.leftPressed=function(){return this.keyStates[this.Keys.LEFT]||this.keyStates[this.Keys.A]},i.prototype.rightPressed=function(){return this.keyStates[this.Keys.RIGHT]||this.keyStates[this.Keys.D]},i}(o),n.exports}),s("ldfw",["require","exports","module","./game","./screen","./actor","./stage","./node","./graphics/textureatlas","./graphics/textureregion","./graphics/sprite","./graphics/bitmapfont","./graphics/tilemap","./math/vector2","./math/rectangle","./utilities/preloader","./utilities/keyboard"],function(t,e,r){var i,n,o,s,u,h;for(i={Game:t("./game"),Screen:t("./screen"),Actor:t("./actor"),Stage:t("./stage"),Node:t("./node"),TextureAtlas:t("./graphics/textureatlas"),TextureRegion:t("./graphics/textureregion"),Sprite:t("./graphics/sprite"),BitmapFont:t("./graphics/bitmapfont"),TileMap:t("./graphics/tilemap"),Vector2:t("./math/vector2"),Rectangle:t("./math/rectangle"),Preloader:t("./utilities/preloader"),Keyboard:t("./utilities/keyboard")},n=function(t){var e,r,i,n,o;n=this,r=function(){return n.apply(this,arguments)};for(i in n)o=n[i],r[i]=o;e=function(){this.constructor=r},e.prototype=n.prototype,r.prototype=new e;for(i in t)o=t[i],r.prototype[i]=o;return r},h=["Game","Screen","Actor","Stage","Node"],s=0,u=h.length;u>s;s++)o=h[s],i[o].extend=n;return r.exports=i,r.exports}),o("ldfw")};return r?define(["jquery"],o):i?module.exports=o(require("jquery")):o("undefined"!=typeof $?$:void 0)}).call(this,"object"==typeof exports?global:window,"object"==typeof exports?global:window);